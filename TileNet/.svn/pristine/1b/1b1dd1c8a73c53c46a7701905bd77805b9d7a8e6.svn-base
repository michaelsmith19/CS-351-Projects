package com.putable.tilenet.factory;

import java.util.concurrent.Callable;

public class Agent extends MatrixElement implements Callable<Void>{
	//BuilderFactory
	MatrixElementFactory thisUses;	
	
	//Used by Factory
	public Agent(MatrixElementFactory thisSpecificfactory){		
		this.thisUses = thisSpecificfactory;		
	}

	@Override
	void makeElement() {		
		tag = thisUses.addSetTag();
		type = thisUses.addElemType();
		conn = thisUses.addConnection();
	}

	@Override
	public Void call() throws Exception {
		while (!conn.getSock().isClosed()) {

			/*
			 * 
			 * DO STUFF WITH XML HERE
			 * 
			 * There should be a server login XML in the incoming stream that
			 * was requested on behalf of this client/agent via the Controller
			 * class associated with this connection.
			 */

		}
		return null;
	}	
}
