package com.putable.tilenet.Client;

import java.io.BufferedWriter;
import java.net.Socket;
import java.util.concurrent.Callable;

import com.putable.tilenet.Util.Common;

public class Agent implements Callable<Void>{
	private final String clientAddress = "127.0.0.1";
	private final String nameOfAgent;	
	private final int port;
	
	public Agent(String AGENT, int PORT){
		this.nameOfAgent = AGENT;
		this.port = PORT;
	}
	
	@Override
	public Void call() throws Exception {
		//Attempt to connect
		Socket sock = new Socket(clientAddress, port);
		
		BufferedWriter out = Common.getWriterFromSock(sock);
		
		out.write("ID: " + this.nameOfAgent + " I am an Agent, what i do is send stuff to my controller");
		
		
		//Close them
		out.close();
		sock.close();
		return null;
	}

}
